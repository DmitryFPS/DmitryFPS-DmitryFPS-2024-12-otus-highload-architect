# Отчет по тестированию производительности запросов до и после репликации

## Описание теста

Был проведен тест производительности системы до и после настройки репликации с одним мастером и двумя слейвами. Каждый
запрос состоял из двух HTTP-запросов:

1. Поиск пользователя по имени и фамилии: http://localhost:8080/api/v1/user/search?first_name=Fl&last_name=Co
2. Получение данных пользователя по ID: http://localhost:8080/api/v1/user/3

Тестирование проводилось при различных нагрузках: 1, 10, 100 и 1000 одновременных запросов. Целью теста было оценить
влияние репликации на производительность системы.

## Результаты тестирования производительности

### 1 одновременный запрос

| Метрика                      | До репликации | После репликации |
|------------------------------|---------------|------------------|
| Среднее время (мс)           | 25            | 25               |
| Минимальное время (мс)       | 19            | 21               |
| Максимальное время (мс)      | 32            | 30               |
| Стандартное отклонение       | 6.50          | 4.50             |
| Ошибки (%)                   | 0.000%        | 0.000%           |
| Throughput (запросов/сек)    | 39.21569      | 38.46154         |
| Получено KB/sec              | 498.05        | 488.68           |
| Отправлено KB/sec            | 12.48         | 12.17            |
| Средний размер ответа (байт) | 13005.0       | 13010.5          |

### 10 одновременных запросов

| Метрика                      | До репликации | После репликации |
|------------------------------|---------------|------------------|
| Среднее время (мс)           | 29            | 24               |
| Минимальное время (мс)       | 16            | 12               |
| Максимальное время (мс)      | 53            | 41               |
| Стандартное отклонение       | 10.44         | 9.20             |
| Ошибки (%)                   | 0.000%        | 0.000%           |
| Throughput (запросов/сек)    | 20.83333      | 20.98636         |
| Получено KB/sec              | 264.71        | 266.64           |
| Отправлено KB/sec            | 6.64          | 6.64             |
| Средний размер ответа (байт) | 13011.0       | 13010.5          |

### 100 одновременных запросов

| Метрика                      | До репликации | После репликации |
|------------------------------|---------------|------------------|
| Среднее время (мс)           | 7             | 6                |
| Минимальное время (мс)       | 4             | 4                |
| Максимальное время (мс)      | 27            | 22               |
| Стандартное отклонение       | 2.58          | 2.15             |
| Ошибки (%)                   | 0.000%        | 0.000%           |
| Throughput (запросов/сек)    | 199.00498     | 199.40179        |
| Получено KB/sec              | 2528.67       | 2533.51          |
| Отправлено KB/sec            | 63.45         | 63.09            |
| Средний размер ответа (байт) | 13011.5       | 13010.5          |

### 1000 одновременных запросов

| Метрика                      | До репликации | После репликации |
|------------------------------|---------------|------------------|
| Среднее время (мс)           | 468           | 402              |
| Минимальное время (мс)       | 24            | 6                |
| Максимальное время (мс)      | 912           | 669              |
| Стандартное отклонение       | 173.08        | 164.48           |
| Ошибки (%)                   | 0.000%        | 0.000%           |
| Throughput (запросов/сек)    | 1010.61142    | 1038.42160       |
| Получено KB/sec              | 12849.27      | 13193.73         |
| Отправлено KB/sec            | 322.23        | 328.56           |
| Средний размер ответа (байт) | 13019.5       | 13010.5          |

## Выводы

## Для одного запроса:

- Время выполнения запроса осталось практически неизменным (25 мс до и после репликации).
- Throughput незначительно снизился с 39.22 до 38.46 запросов в секунду.
- Репликация не оказала существенного влияния на производительность при минимальной нагрузке.

## Для 10 запросов:

- Среднее время выполнения уменьшилось с 29 мс до 24 мс.
- Throughput увеличился с 20.83 до 20.99 запросов в секунду.
- Наблюдается небольшое улучшение производительности.

## Для 100 запросов:

- Среднее время выполнения уменьшилось с 7 мс до 6 мс.
- Throughput увеличился с 199.00 до 199.40 запросов в секунду.
- Производительность улучшилась незначительно.

## Для 1000 запросов:

- Среднее время выполнения уменьшилось с 468 мс до 402 мс.
- Throughput увеличился с 1010.61 до 1038.42 запросов в секунду.
- Наблюдается заметное улучшение производительности при высокой нагрузке.

### Общие выводы

- Репликация с одним мастером и двумя слейвами положительно повлияла на производительность системы, особенно при высокой
  нагрузке (1000 одновременных запросов).

- Наибольшее улучшение наблюдается в снижении среднего времени выполнения запросов и увеличении throughput.
- При низкой нагрузке (1 и 10 запросов) влияние репликации минимально, что ожидаемо, так как система и без репликации
  справляется с такими объемами.
- Репликация эффективно распределяет нагрузку между узлами, что подтверждается улучшением производительности при
  увеличении числа запросов.

- В целом, настройка репликации с одним мастером и двумя слейвами является эффективным решением для повышения
  производительности системы при высокой нагрузке.
